<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue3 生命周期 | BlogByCosy</title>
    <meta name="description" content="Vue3 生命周期">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.Bdoh2Mnz.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CUrjMYgo.js"></script>
    <link rel="modulepreload" href="/assets/chunks/theme.Bcgzs5jl.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CUk_15SL.js">
    <link rel="modulepreload" href="/assets/Vue3LifeCycle.md.CtVMDc1v.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><!--[--><!--[--><div class="PageOuter" data-v-c0f07e66><div class="copyright" data-v-c0f07e66>cosy247</div></div><!--[--><div class="Menu" data-v-d8cbc7eb><div class="content" data-v-d8cbc7eb><a href="/" class="logo" target="_self" data-v-d8cbc7eb><p class="c-page-title">C<img src="/assets/images/logo.ico"/>SY247</p></a><div href="/" class="logo mobile" data-v-d8cbc7eb><p class="c-page-title">C<img src="/assets/images/logo.ico"/>SY247</p></div><!----><div class="menus-undefined menus" data-v-d8cbc7eb><!--[--><div class="menu" data-v-d8cbc7eb><!--[--><span class="menu-title" data-v-d8cbc7eb><span style="font-size:18px;" class="menu-title-icon" data-v-d8cbc7eb data-v-6e0b237d>&#xe617;</span> 标签</span><div class="menu-position" data-v-d8cbc7eb><div class="menu-mask" data-v-d8cbc7eb></div><div class="menu-content" data-v-d8cbc7eb><div class="menu-content-title" data-v-d8cbc7eb><span class="menu-content-title-main" data-v-d8cbc7eb><span style="font-size:17px;" data-v-d8cbc7eb data-v-6e0b237d>&#xe617;</span> 标签</span><span class="menu-content-title-describe" data-v-d8cbc7eb>tag ∈ [1, N] · one;   one ∈ [0, 5] · tag</span></div><div class="menu-content-list" data-v-d8cbc7eb><!--[--><a class="menu-content-item" href="/?tag=前端" data-v-d8cbc7eb>前端(19) </a><a class="menu-content-item" href="/?tag=Window使用" data-v-d8cbc7eb>Window使用(2) </a><a class="menu-content-item" href="/?tag=CSS" data-v-d8cbc7eb>CSS(5) </a><a class="menu-content-item" href="/?tag=Vue" data-v-d8cbc7eb>Vue(7) </a><a class="menu-content-item" href="/?tag=随笔" data-v-d8cbc7eb>随笔(4) </a><a class="menu-content-item" href="/?tag=JS" data-v-d8cbc7eb>JS(4) </a><a class="menu-content-item" href="/?tag=NPM" data-v-d8cbc7eb>NPM(2) </a><a class="menu-content-item" href="/?tag=图集" data-v-d8cbc7eb>图集(2) </a><a class="menu-content-item" href="/?tag=Vscode插件开发" data-v-d8cbc7eb>Vscode插件开发(1) </a><a class="menu-content-item" href="/?tag=Vite" data-v-d8cbc7eb>Vite(2) </a><a class="menu-content-item" href="/?tag=Vscode使用" data-v-d8cbc7eb>Vscode使用(4) </a><!--]--></div></div></div><!--]--></div><div class="menu" data-v-d8cbc7eb><!--[--><span class="menu-title" data-v-d8cbc7eb><span style="font-size:18px;" class="menu-title-icon" data-v-d8cbc7eb data-v-6e0b237d>&#xe64f;</span> 独立</span><div class="menu-position" data-v-d8cbc7eb><div class="menu-mask" data-v-d8cbc7eb></div><div class="menu-content" data-v-d8cbc7eb><div class="menu-content-title" data-v-d8cbc7eb><span class="menu-content-title-main" data-v-d8cbc7eb><span style="font-size:17px;" data-v-d8cbc7eb data-v-6e0b237d>&#xe64f;</span> 独立</span><span class="menu-content-title-describe" data-v-d8cbc7eb>独立于本网站的应用、网页、服务、插件等。</span></div><div class="menu-exhibit-list" data-v-d8cbc7eb><!--[--><a target="_blank" href="https://github.com/cosy247/DrinkWater" class="menu-exhibit-item" title="桌面小工具，用于定时提醒喝水。" data-v-d8cbc7eb><img class="imgIcon menu-exhibit-icon" style="" src="/assets/images/DrinkWater.png" data-v-d8cbc7eb data-v-6e0b237d> DrinkWater</a><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=cosy247.vsBackground" class="menu-exhibit-item" title="VsCode插件，给页面添加背景图片。" data-v-d8cbc7eb><img class="imgIcon menu-exhibit-icon" style="" src="/assets/images/VsBackground.png" data-v-d8cbc7eb data-v-6e0b237d> VsBackground</a><a target="_blank" href="https://cosy247.top/alones/PackOnePage/index.html" class="menu-exhibit-item" title="将html网页的js和css打包成一个html文件。" data-v-d8cbc7eb><img class="imgIcon menu-exhibit-icon" style="" src="https://cosy247.top/alones/PackOnePage/icon/icon.png" data-v-d8cbc7eb data-v-6e0b237d> PackOnePage</a><a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=cosy247.markdown-in-sider" class="menu-exhibit-item" title="将html网页的js和css打包成一个html文件。" data-v-d8cbc7eb><img class="imgIcon menu-exhibit-icon" style="" src="/assets/images/MarkdownInSider.png" data-v-d8cbc7eb data-v-6e0b237d> MarkdownInSider</a><!--]--></div></div></div><!--]--></div><!--]--></div><div class="tools" data-v-d8cbc7eb><div class="tool" data-v-d8cbc7eb></div><span class="tool" data-v-d8cbc7eb></span><a class="tool home" href="/" data-v-d8cbc7eb><img alt="" data-v-d8cbc7eb></a></div></div></div><div class="search-box" style="display:none;" data-v-d8cbc7eb><div class="search-main" data-v-d8cbc7eb><div class="search-input" data-v-d8cbc7eb><input class="search-input-text" type="text" value="" placeholder="输入关键词进行搜索" data-v-d8cbc7eb></div><div class="search-result" data-v-d8cbc7eb><div class="search-list" data-v-d8cbc7eb><p class="search-result-empty" data-v-d8cbc7eb>空空如也🍂</p><!--[--><!--]--></div></div></div></div><div class="readme-box" style="display:none;" data-v-d8cbc7eb><div class="readme-container" data-v-d8cbc7eb><div class="readme-close" data-v-d8cbc7eb></div><div style="position:relative;" class="mdContent readme-content" path="/README.md" filename="README" data-v-d8cbc7eb><div><h1 id="vue3-生命周期" tabindex="-1">vue3 生命周期 <a class="header-anchor" href="#vue3-生命周期" aria-label="Permalink to &quot;vue3 生命周期&quot;">​</a></h1><p>在了解 vue3 生命周期前，建议先阅读<a href="/Vue2LifeCycle.html">vue2 生命周期钩子</a>。</p><h2 id="生命周期一览" tabindex="-1">生命周期一览 <a class="header-anchor" href="#生命周期一览" aria-label="Permalink to &quot;生命周期一览&quot;">​</a></h2><p><a href="https://cn.vuejs.org/api/composition-api-lifecycle.html" target="_blank" rel="noreferrer">VUE3 官网生命周期参考</a></p><table tabindex="0"><thead><tr><th>生命周期</th><th>时机</th><th>说明</th></tr></thead><tbody><tr><td>setup</td><td>实例创建之前</td><td></td></tr><tr><td>beforeCreate</td><td>实例初始化完成之后</td><td></td></tr><tr><td>created</td><td>实例处理完所有与状态相关的选项后</td><td></td></tr><tr><td>beforeMount</td><td>被挂载之前</td><td>服务端渲染不可用</td></tr><tr><td>mounted</td><td>被挂载之后</td><td>服务端渲染不可用</td></tr><tr><td>beforeUpdate</td><td>响应式状态变更而更新其 DOM 树之前</td><td>服务端渲染不可用</td></tr><tr><td>updated</td><td>响应式状态变更而更新其 DOM 树之后</td><td>服务端渲染不可用</td></tr><tr><td>beforeUnmount</td><td>被卸载之前</td><td>服务端渲染不可用</td></tr><tr><td>unmounted</td><td>被卸载之后</td><td>服务端渲染不可用</td></tr><tr><td>errorCaptured</td><td>捕获了后代组件传递的错误时</td><td></td></tr><tr><td>renderTracked</td><td>在一个响应式依赖被组件的渲染作用追踪后</td><td>仅在开发模式下可用，服务端渲染不可用</td></tr><tr><td>renderTriggered</td><td>在一个响应式依赖被组件触发了重新渲染之后</td><td>仅在开发模式下可用，服务端渲染不可用</td></tr><tr><td>activated</td><td>KeepAlive 中，被插入到 DOM 中时</td><td>服务端渲染不可用</td></tr><tr><td>deactivated</td><td>KeepAlive 中，从 DOM 中被移除时</td><td>服务端渲染不可用</td></tr><tr><td>serverPrefetch</td><td>在服务器上被渲染之前</td><td>仅会在服务端渲染中执行</td></tr></tbody></table><p><strong>生命周期图示：</strong></p><p>![alt text](assets/Vue3LifeCycle/image.png =600x)</p><h2 id="setup" tabindex="-1">setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;setup&quot;">​</a></h2><p><a href="https://cn.vuejs.org/api/composition-api-setup.html" target="_blank" rel="noreferrer">setup()</a> 钩子是在组件中使用组合式 API 的入口。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;count++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ count }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      count,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>对于结合单文件组件使用的组合式 API，推荐通过 <a href="https://cn.vuejs.org/api/sfc-script-setup.html" target="_blank" rel="noreferrer">&lt;script setup&gt;</a> 以获得更加简洁及符合人体工程学的语法。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;count++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ count }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="使用生命周期钩子" tabindex="-1">使用生命周期钩子 <a class="header-anchor" href="#使用生命周期钩子" aria-label="Permalink to &quot;使用生命周期钩子&quot;">​</a></h2><p><code>vue3</code> 中可以使用 <code>vue2</code> 的对象属性方式来声明生命周期钩子，但是更加推荐在 <code>setup</code> 中完成相关生命周期钩子的注册：</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 引入生命周期钩子对应的函数名</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { onBeforeMount, onUpdated, onBeforeUnmount } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onBeforeMount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onUpdated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onBeforeUnmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><p><a href="https://cn.vuejs.org/api/options-lifecycle.html" target="_blank" rel="noreferrer">生命周期选项</a></p></div></div></div></div><!--]--><!--]--><div style="position:relative;" class="mdContent blog-mdView" path="/README.md" data-v-193cad8e data-v-17a95948><div><h1 id="vue3-生命周期" tabindex="-1">vue3 生命周期 <a class="header-anchor" href="#vue3-生命周期" aria-label="Permalink to &quot;vue3 生命周期&quot;">​</a></h1><p>在了解 vue3 生命周期前，建议先阅读<a href="/Vue2LifeCycle.html">vue2 生命周期钩子</a>。</p><h2 id="生命周期一览" tabindex="-1">生命周期一览 <a class="header-anchor" href="#生命周期一览" aria-label="Permalink to &quot;生命周期一览&quot;">​</a></h2><p><a href="https://cn.vuejs.org/api/composition-api-lifecycle.html" target="_blank" rel="noreferrer">VUE3 官网生命周期参考</a></p><table tabindex="0"><thead><tr><th>生命周期</th><th>时机</th><th>说明</th></tr></thead><tbody><tr><td>setup</td><td>实例创建之前</td><td></td></tr><tr><td>beforeCreate</td><td>实例初始化完成之后</td><td></td></tr><tr><td>created</td><td>实例处理完所有与状态相关的选项后</td><td></td></tr><tr><td>beforeMount</td><td>被挂载之前</td><td>服务端渲染不可用</td></tr><tr><td>mounted</td><td>被挂载之后</td><td>服务端渲染不可用</td></tr><tr><td>beforeUpdate</td><td>响应式状态变更而更新其 DOM 树之前</td><td>服务端渲染不可用</td></tr><tr><td>updated</td><td>响应式状态变更而更新其 DOM 树之后</td><td>服务端渲染不可用</td></tr><tr><td>beforeUnmount</td><td>被卸载之前</td><td>服务端渲染不可用</td></tr><tr><td>unmounted</td><td>被卸载之后</td><td>服务端渲染不可用</td></tr><tr><td>errorCaptured</td><td>捕获了后代组件传递的错误时</td><td></td></tr><tr><td>renderTracked</td><td>在一个响应式依赖被组件的渲染作用追踪后</td><td>仅在开发模式下可用，服务端渲染不可用</td></tr><tr><td>renderTriggered</td><td>在一个响应式依赖被组件触发了重新渲染之后</td><td>仅在开发模式下可用，服务端渲染不可用</td></tr><tr><td>activated</td><td>KeepAlive 中，被插入到 DOM 中时</td><td>服务端渲染不可用</td></tr><tr><td>deactivated</td><td>KeepAlive 中，从 DOM 中被移除时</td><td>服务端渲染不可用</td></tr><tr><td>serverPrefetch</td><td>在服务器上被渲染之前</td><td>仅会在服务端渲染中执行</td></tr></tbody></table><p><strong>生命周期图示：</strong></p><p>![alt text](assets/Vue3LifeCycle/image.png =600x)</p><h2 id="setup" tabindex="-1">setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;setup&quot;">​</a></h2><p><a href="https://cn.vuejs.org/api/composition-api-setup.html" target="_blank" rel="noreferrer">setup()</a> 钩子是在组件中使用组合式 API 的入口。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;count++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ count }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      count,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>对于结合单文件组件使用的组合式 API，推荐通过 <a href="https://cn.vuejs.org/api/sfc-script-setup.html" target="_blank" rel="noreferrer">&lt;script setup&gt;</a> 以获得更加简洁及符合人体工程学的语法。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;count++&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ count }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="使用生命周期钩子" tabindex="-1">使用生命周期钩子 <a class="header-anchor" href="#使用生命周期钩子" aria-label="Permalink to &quot;使用生命周期钩子&quot;">​</a></h2><p><code>vue3</code> 中可以使用 <code>vue2</code> 的对象属性方式来声明生命周期钩子，但是更加推荐在 <code>setup</code> 中完成相关生命周期钩子的注册：</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 引入生命周期钩子对应的函数名</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { onBeforeMount, onUpdated, onBeforeUnmount } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onBeforeMount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onUpdated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onBeforeUnmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><p><a href="https://cn.vuejs.org/api/options-lifecycle.html" target="_blank" rel="noreferrer">生命周期选项</a></p></div></div><!--]--></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"@floatingspot.md\":\"CYJYas2A\",\"@fullpagescrolling.md\":\"CQgcIyCN\",\"atagdownloadfilenamefix.md\":\"B8-BYq89\",\"autostartonwindows.md\":\"sm1zymTj\",\"base64toboldtofiletourl.md\":\"DIkYyRLl\",\"borderradiusandoverflow.md\":\"CiozX1Gd\",\"comment.md\":\"Dpm-NgcD\",\"communicationbetweenvuecomponents.md\":\"DRrr8JQm\",\"configurabletablevuecomponent.md\":\"CQo3vEjI\",\"cssbackgroundpatterns.md\":\"CZFQ5ngd\",\"cssparentselect.md\":\"WUnFTC9_\",\"cssspecificity.md\":\"CEXsnA0K\",\"europeanalarmtelephone.md\":\"DMTdBIPa\",\"excelwithxlsxjs.md\":\"COZ8Me9J\",\"globpatternmatching.md\":\"DdFXFoea\",\"index.md\":\"D0wWAFSH\",\"inputvalidation.md\":\"8GzDwPZN\",\"jschinesesorting.md\":\"BZHAf9vc\",\"loadanimationcollection.md\":\"BDwR4UOd\",\"mdtranslatetopdf.md\":\"B8z-4dRb\",\"npmproxyandregistry.md\":\"DirYjFna\",\"npmregistrymanager.md\":\"D1QzQwOS\",\"optimizationofspafirstscreenload.md\":\"YfC2PKtp\",\"precautionsofvueinstruction.md\":\"Csq-_t33\",\"projectdescriptiondocument.md\":\"C43vKcJQ\",\"readme.md\":\"82qSNLTO\",\"spaandmpa.md\":\"Cl8QQVvg\",\"threecats.md\":\"081ClzwT\",\"viteconfigpreview.md\":\"DLCfxlyy\",\"vitemodeandenv.md\":\"B4V9z-iu\",\"vscodeeditorconfig.md\":\"DwpOS7od\",\"vscodeextensiondevelopment.md\":\"Cy11hDVq\",\"vscodemarkdownimgcopy.md\":\"BGQVzP7B\",\"vscodesshstuck.md\":\"CHE0pCND\",\"vssecretfreessh.md\":\"DWptzA7c\",\"vue2lifecycle.md\":\"CS6e7yVC\",\"vue3lifecycle.md\":\"CtVMDc1v\",\"vueclimodeandenv.md\":\"Cv6Dsltq\",\"wallpaper1.md\":\"DNmG1fs2\",\"win11turnonnotificationsagain.md\":\"BtuJm1tG\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"BlogByCosy\",\"description\":\"BlogByCosy\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>