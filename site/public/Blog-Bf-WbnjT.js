import{p as C,j as R,r as u,k as q,l as z,o as a,a as l,m as p,_ as D,c as F,g as b,b as e,F as m,f as T,u as d,h as w,q as S,v as j,x as G,i as H,y as O,t as I,I as J,z as K}from"./index-coRuu0-r.js";C.reduce((c,i)=>(c[i.file]=i,c),{});const Q=C.reduce((c,i)=>(c[i.attrs.id]=i,c),{});function U(c){return Q[c]}const W=["id","host","repo","repoid","category","categoryid","mapping","term","strict","reactionsenabled","emitmetadata","inputposition","theme","lang","loading"],X=R({__name:"Giscus",props:{id:{},host:{},repo:{},repoId:{},category:{},categoryId:{},mapping:{},term:{},theme:{},strict:{},reactionsEnabled:{},emitMetadata:{},inputPosition:{},lang:{},loading:{}},setup(c){const i=u(!1);return q(()=>{z(()=>import("./giscus-Ci9LqPcC-CpG_NdUJ.js"),[]).then(()=>i.value=!0)}),(s,g)=>i.value?(a(),l("giscus-widget",{key:0,id:s.id,host:s.host,repo:s.repo,repoid:s.repoId,category:s.category,categoryid:s.categoryId,mapping:s.mapping,term:s.term,strict:s.strict,reactionsenabled:s.reactionsEnabled,emitmetadata:s.emitMetadata,inputposition:s.inputPosition,theme:s.theme,lang:s.lang,loading:s.loading},null,8,W)):p("",!0)}}),Y={class:"blog-infos"},Z=["href"],tt={class:"blog-info-text"},et={key:0,class:"blog-info-br"},ot={class:"blog-toc"},st=["onClick"],nt={class:"recoms"},at=["href"],lt={class:"blog-comment"},it={class:"blog-comment-main"},rt={__name:"Blog",setup(c){const i=H(),s=F(()=>i.params.file),g=u([]);function B(){var o;g.value=O[s.value],v.value=(o=g.value[1])==null?void 0:o.id}const r=C.find(o=>o.file===i.params.file);r&&(document.title=r.attrs.title);const f=u([]),E=u({}),P=b.menus.filter(o=>o.type==="statistics");r&&P.forEach(o=>{const t=o.statistics.frontName;E.value[t]=o,Array.isArray(r.attrs[t])?r.attrs[t].forEach(n=>{f.value.push({name:t,value:n,url:`/${t}/${n}`})}):r.attrs[t]&&f.value.push({name:t,value:r.attrs[t],url:`/${t}/${r.attrs[t]}`})});const h=r?r.attrs.recommendations.map(o=>U(o)).map(o=>({url:`/docs/${o.file}`,...o})):[],y=u(null);function V(o){let t=y.value.querySelector(`#${o}`);if(v.value=t.id,!t)return;let n=-435;for(;t;)n+=t.offsetTop,t=t.parentElement;window.scrollTo({top:n,behavior:"smooth"})}const v=u("");let _=[],k=null;window.addEventListener("scroll",()=>{_.length||(_=[...y.value.querySelectorAll(".mdContent > h2, .mdContent > h3")]),k&&clearTimeout(k),k=setTimeout(()=>{const o=_.filter(t=>t.getBoundingClientRect().top<200).pop()||_[0];o&&(v.value=o.id)},200)});function N(){window.document.documentElement.scrollTop=0}const $=u(null);function A(){window.document.documentElement.scrollTop=$.value.offsetTop-100}const M=u(null);function L(){window.document.documentElement.scrollTop=M.value.offsetTop-100}return(o,t)=>(a(),l(m,null,[e("div",Y,[(a(!0),l(m,null,T(f.value,n=>(a(),l("a",{href:n.url,class:"blog-info"},[e("span",tt,I(n.value),1),w(J,{class:"blog-info-icon",icon:E.value[n.name]},null,8,["icon"])],8,Z))),256)),f.value.length?(a(),l("div",et)):p("",!0),d(h).length?(a(),l("div",{key:1,class:"blog-info",onClick:A},t[0]||(t[0]=[e("span",{class:"blog-info-text"},"相关推荐",-1),e("span",{class:"blog-info-icon"},"",-1)]))):p("",!0),e("div",{class:"blog-info",onClick:L},t[1]||(t[1]=[e("span",{class:"blog-info-text"},"评论",-1),e("span",{class:"blog-info-icon"},"",-1)])),e("div",{class:"blog-info",onClick:N},t[2]||(t[2]=[e("span",{class:"blog-info-text"},"顶部",-1),e("span",{class:"blog-info-icon"},"",-1)]))]),e("div",ot,[(a(!0),l(m,null,T(g.value,n=>(a(),l("div",{class:K(["blog-toc-item",`blog-toc-depth${n.depth} ${n.id===v.value?"blog-toc-active":""}`]),onClick:x=>V(n.id)},[e("p",null,I(n.name),1)],10,st))),256))]),e("div",{ref_key:"mdView",ref:y},[w(S,{class:"blog-mdView",fileName:s.value,onLoad:B},null,8,["fileName"])],512),d(h).length?(a(),l(m,{key:0},[t[3]||(t[3]=e("div",{class:"content-cubicle"},null,-1)),e("p",{class:"recom-title",ref_key:"recom",ref:$},"✨相关推荐✨",512),e("div",nt,[(a(!0),l(m,null,T(d(h),(n,x)=>(a(),l("a",{href:n.url,class:"recom",key:x},"✨ "+I(n.attrs.title),9,at))),128))])],64)):p("",!0),d(b).giscus.repo&&d(b).giscus.repoId?(a(),l(m,{key:1},[t[4]||(t[4]=e("div",{class:"content-cubicle"},null,-1)),e("p",{class:"recom-title",ref_key:"comment",ref:M},"🧐评论🧐",512),e("div",lt,[e("div",it,[w(d(X),j(G(d(b).giscus)),null,16)])])],64)):p("",!0),t[5]||(t[5]=e("div",{class:"bottom"},null,-1))],64))}},ut=D(rt,[["__scopeId","data-v-50236c4f"]]);export{ut as default};
